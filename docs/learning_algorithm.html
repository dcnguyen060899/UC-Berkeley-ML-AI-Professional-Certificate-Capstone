<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Subtree Algorithm Learning</title>
    <link rel="stylesheet" href="css/learning_algorithm.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Berkeley-styled Header -->
    <header>
        <a href="https://em-executive.berkeley.edu/professional-certificate-machine-learning-artificial-intelligence" class="logo-link">
            <div class="logo">
                <img src="images/UC_Berkeley.png" alt="Berkeley Engineering and Haas logo">
            </div>
        </a>
        <nav>
            <a href="index_portfolio.html">Portfolio</a>
        </nav>
    </header>

    <main>
        <h1 class="main-title">Interactive Subtree Algorithm Learning</h1>
        <!-- Problem Statement Section -->
        <div class="problem-statement">
            <h2>Problem: Subtree of Another Tree</h2>
            
            <div class="problem-description">
                <p>Given the roots of two binary trees <code>root</code> and <code>subRoot</code>, return <code>true</code> if there is a subtree of <code>root</code> with the same structure and node values of <code>subRoot</code> and <code>false</code> otherwise.</p>
                
                <p>A subtree of a binary tree <code>tree</code> is a tree that consists of a node in <code>tree</code> and all of this node's descendants. The tree <code>tree</code> could also be considered as a subtree of itself.</p>
            </div>
            
            <div class="problem-examples">
                <div class="example">
                    <h3>Example 1:</h3>
                    <div class="example-content">
                        <p><strong>Input:</strong> root = [1,2,3,4,5], subRoot = [2,4,5]</p>
                        <p><strong>Output:</strong> true</p>
                        <p class="example-explanation">The subtree with root 2 in the main tree matches the structure and values of subRoot.</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>Example 2:</h3>
                    <div class="example-content">
                        <p><strong>Input:</strong> root = [1,2,3,4,5,null,null,6], subRoot = [2,4,5]</p>
                        <p><strong>Output:</strong> false</p>
                        <p class="example-explanation">While the subtree with root 2 appears similar, the additional node 6 as a child of node 4 means the structures don't match.</p>
                    </div>
                </div>
            </div>
            
            <div class="problem-constraints">
                <h3>Constraints:</h3>
                <ul>
                    <li>0 ≤ The number of nodes in both trees ≤ 100</li>
                    <li>-100 ≤ root.val, subRoot.val ≤ 100</li>
                </ul>
            </div>
            
            <div class="problem-complexity">
                <h3>Recommended Time & Space Complexity:</h3>
                <p>You should aim for a solution as good or better than <code>O(m * n)</code> time and <code>O(m + n)</code> space, where <code>n</code> and <code>m</code> are the number of nodes in <code>root</code> and <code>subRoot</code>, respectively.</p>
            </div>
            
            <div class="problem-hints">
                <h3>Hints <button id="toggle-hints" class="hint-toggle">Show Hints</button></h3>
                <div id="hints-container" class="hints-container hidden">
                    <div class="hint">
                        <h4>Hint 1:</h4>
                        <p>A subtree of a tree is a tree rooted at a specific node. We need to check whether the given <code>subRoot</code> is identical to any of the subtrees of <code>root</code>. Can you think of a recursive way to check this? Maybe you can leverage the idea of solving a problem where two trees are given, and you need to check whether they are identical in structure and values.</p>
                    </div>
                    <div class="hint">
                        <h4>Hint 2:</h4>
                        <p>When two trees are identical, it means that every node in both trees has the same value and structure. We can use the Depth First Search (DFS) algorithm to solve the problem. How do you implement this?</p>
                    </div>
                    <div class="hint">
                        <h4>Hint 3:</h4>
                        <p>We traverse the given <code>root</code>, and at each node, we check if the subtree rooted at that node is identical to the given <code>subRoot</code>. We use a helper function, <code>sameTree(root1, root2)</code>, to determine whether the two trees passed to it are identical in both structure and values.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mode Selection -->
        <div class="mode-selection">
            <h2> Implementating Chain-of-Thoughts Algorithm's Solution</h2>
            
            <button id="learn-mode" class="mode-btn active">Learn Mode</button>
            <button id="practice-mode" class="mode-btn">Practice Mode</button>
            <button id="challenge-mode" class="mode-btn">Challenge Mode</button>
        </div>
        
        <div class="content-area">
            <!-- Tree Visualization Area -->
            <div class="visualization-section">
                <h2>Tree Visualization</h2>
                
                <div class="trees-container">
                    <!-- Main Tree -->
                    <div class="tree">
                        <h3>Main Tree</h3>
                        <svg width="180" height="220" viewBox="-20 0 200 220" id="main-tree-svg">
                            <!-- Node 1 -->
                            <circle id="node1" cx="90" cy="30" r="15" class="node" data-node-id="node1"></circle>
                            <text x="90" y="34" text-anchor="middle" font-size="12">1</text>
                            
                            <!-- Edge to Node 2 -->
                            <line x1="80" y1="40" x2="55" y2="65" class="edge"></line>
                            
                            <!-- Node 2 -->
                            <circle id="node2" cx="50" cy="70" r="15" class="node" data-node-id="node2"></circle>
                            <text x="50" y="74" text-anchor="middle" font-size="12">2</text>
                            
                            <!-- Edge to Node 3 -->
                            <line x1="100" y1="40" x2="125" y2="65" class="edge"></line>
                            
                            <!-- Node 3 -->
                            <circle id="node3" cx="130" cy="70" r="15" class="node" data-node-id="node3"></circle>
                            <text x="130" y="74" text-anchor="middle" font-size="12">3</text>
                            
                            <!-- Edge to Node 4 -->
                            <line x1="40" y1="80" x2="25" y2="105" class="edge"></line>
                            
                            <!-- Node 4 -->
                            <circle id="node4Main" cx="20" cy="110" r="15" class="node" data-node-id="node4Main"></circle>
                            <text x="20" y="114" text-anchor="middle" font-size="12">4</text>
                            
                            <!-- Edge to Node 5 -->
                            <line x1="60" y1="80" x2="75" y2="105" class="edge"></line>
                            
                            <!-- Node 5 -->
                            <circle id="node5Main" cx="80" cy="110" r="15" class="node" data-node-id="node5Main"></circle>
                            <text x="80" y="114" text-anchor="middle" font-size="12">5</text>
                            
                            <!-- Edge to Node 6 -->
                            <line x1="10" y1="120" x2="0" y2="145" class="edge"></line>
                            
                            <!-- Node 6 -->
                            <circle id="node6" cx="0" cy="150" r="15" class="node" data-node-id="node6"></circle>
                            <text x="0" y="154" text-anchor="middle" font-size="12">6</text>
                        </svg>
                    </div>
                    
                    <!-- Subtree -->
                    <div class="tree">
                        <h3>Subtree</h3>
                        <svg width="120" height="120" viewBox="0 0 120 120" id="subtree-svg">
                            <!-- Node 2 -->
                            <circle id="subRoot" cx="60" cy="30" r="15" class="node" data-node-id="subRoot"></circle>
                            <text x="60" y="34" text-anchor="middle" font-size="12">2</text>
                            
                            <!-- Edge to Node 4 -->
                            <line x1="50" y1="40" x2="35" y2="65" class="edge"></line>
                            
                            <!-- Node 4 -->
                            <circle id="node4Sub" cx="30" cy="70" r="15" class="node" data-node-id="node4Sub"></circle>
                            <text x="30" y="74" text-anchor="middle" font-size="12">4</text>
                            
                            <!-- Edge to Node 5 -->
                            <line x1="70" y1="40" x2="85" y2="65" class="edge"></line>
                            
                            <!-- Node 5 -->
                            <circle id="node5Sub" cx="90" cy="70" r="15" class="node" data-node-id="node5Sub"></circle>
                            <text x="90" y="74" text-anchor="middle" font-size="12">5</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Explanation Box -->
                <div class="explanation-box">
                    <h3>Current Step</h3>
                    <p id="step-explanation">Start with isSubtree(root, subRoot) where root is node 1 and subRoot is node 2. We check if the entire trees are identical.</p>
                    
                    <div id="hint-box" class="hint-box hidden">
                        <p><strong>Hint:</strong> <span id="hint-text">We start by comparing the root of the main tree with the root of the subtree.</span></p>
                    </div>
                </div>
                
                <!-- Controls -->
                <div class="controls">
                    <div class="main-controls">
                        <button id="reset-btn" class="control-btn"><i class="fas fa-step-backward"></i></button>
                        <button id="prev-btn" class="control-btn"><i class="fas fa-chevron-left"></i></button>
                        <button id="play-btn" class="control-btn play-btn"><i class="fas fa-play"></i></button>
                        <button id="next-btn" class="control-btn"><i class="fas fa-chevron-right"></i></button>
                        <button id="end-btn" class="control-btn"><i class="fas fa-step-forward"></i></button>
                    </div>
                    
                    <div class="secondary-controls">
                        <button id="hint-btn" class="control-btn"><i class="fas fa-question-circle"></i></button>
                        <button id="code-toggle-btn" class="control-btn"><i class="fas fa-code"></i></button>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                
                <!-- Feedback Message -->
                <div id="feedback-message" class="feedback-message hidden">
                    <p id="feedback-text"></p>
                </div>
            </div>
            
            <!-- Code Implementation Area (Hidden by Default) -->
            <div id="code-section" class="code-section hidden">
                <h2>Algorithm Implementation</h2>
                
                <div class="code-header">
                    <div class="code-progress">
                        <div class="progress-text">Current Progress Level: <span id="code-progress-level">0</span> / 3</div>
                        <div class="progress-container mini">
                            <div id="code-progress-bar" class="progress-bar"></div>
                        </div>
                    </div>
                    
                    <div class="code-templates">
                        <button id="template-btn" class="template-btn">Template</button>
                        <button id="level1-btn" class="template-btn">Level 1</button>
                        <button id="level2-btn" class="template-btn">Level 2</button>
                        <button id="complete-btn" class="template-btn">Complete</button>
                    </div>
                </div>
                
                <textarea id="code-editor" class="code-editor" placeholder="Implement the isSubtree and isSameTree functions here..."></textarea>
                
                <div class="code-actions">
                    <button id="reset-code-btn" class="action-btn">Reset</button>
                    <button id="check-code-btn" class="action-btn primary">Check Code</button>
                </div>
                
                <div class="code-explanation">
                    <h3>Key Algorithm Insights:</h3>
                    <ul>
                        <li>We need two helper functions: <code>isSubtree</code> for the main search and <code>isSameTree</code> to check if two trees match.</li>
                        <li>The <code>isSubtree</code> function recursively checks if any subtree of the main tree matches the target subtree.</li>
                        <li>The <code>isSameTree</code> function checks if two trees have the same structure and values.</li>
                        <li>Base cases: An empty subtree pattern is always found. If the main tree is empty but subtree isn't, return false.</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Challenge Mode Section (Hidden by Default) -->
        <div id="challenge-section" class="challenge-section hidden">
            <h2>Challenge: Implement a Variation</h2>
            <p class="challenge-description">
                Implement a modification of the isSubtree function that allows for a "fuzzy" match, 
                where the subtree can differ by at most one node value from the pattern.
            </p>
            
            <textarea id="challenge-editor" class="code-editor" placeholder="function fuzzySubtree(root, subRoot, maxDifferences = 1) {
              // Your implementation here
            }"></textarea>
            
            <div id="challenge-feedback" class="challenge-feedback hidden">
                <div id="thinking-animation" class="thinking-animation hidden">
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <div class="thinking-text">Evaluating your solution...</div>
                </div>
                
                <p id="challenge-feedback-text"></p>
                
                <div id="solution-section" class="solution-section hidden">
                    <h4>Example Solution:</h4>
                    <pre class="solution-code" id="solution-code">function fuzzySubtree(root, subRoot, maxDifferences = 1) {
                      if (!subRoot) return true;
                      if (!root) return false;
                      
                      // Check if current trees fuzzy match
                      if (fuzzySameTree(root, subRoot, maxDifferences)) return true;
                      
                      // Recursive search in left and right subtrees
                      return fuzzySubtree(root.left, subRoot, maxDifferences) || 
                             fuzzySubtree(root.right, subRoot, maxDifferences);
                    }
                    
                    function fuzzySameTree(p, q, maxDifferences, differences = 0) {
                      // Base cases
                      if (!p && !q) return true;
                      if (!p || !q) return false;
                      
                      // Value comparison - allow differences up to maxDifferences
                      if (p.val !== q.val) {
                        differences++;
                        if (differences > maxDifferences) return false;
                      }
                      
                      // Check both subtrees recursively, passing the current difference count
                      return fuzzySameTree(p.left, q.left, maxDifferences, differences) && 
                             fuzzySameTree(p.right, q.right, maxDifferences, differences);
                    }</pre>
                </div>
            </div>
            
            <div class="challenge-actions">
                <button id="clear-challenge-btn" class="action-btn">Clear</button>
                <button id="submit-challenge-btn" class="action-btn primary">Submit Solution</button>
            </div>
            
            <div id="challenge-hint" class="hint-box">
                <p><strong>Hint:</strong> You'll need to modify both functions. Create a 
                fuzzySameTree function that tracks the number of differing nodes and 
                allows matches when differences ≤ maxDifferences.</p>
            </div>
        </div>
    </main>
    
    <footer>
        <p>© 2024 UC Berkeley. All rights reserved.</p>
        <a href="index_portfolio.html">Back to Portfolio</a>
    </footer>
    
    <script src="js/learning_algorithm.js"></script>
</body>
</html>
